<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>商品新增</title>
	<!-- 利用th:insert 或是 th:replace 來載入模板 -->
	<script src="https://code.jquery.com/jquery-3.6.1.js"
	integrity="sha256-3zlB5s2uwoUzrXK3BT7AX3FyvojsraNFxCc2vC/7pNI="
	crossorigin="anonymous"></script>
<!-- 	<script src="https://code.jquery.com/jquery-3.6.0.min.js" -->
<!-- 		integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> -->
</head>
<body>
	<script>
	 function loadImageFileAsURL() {
		   let filesSelected = document.getElementById("inputFileToLoad").files;
		   if (filesSelected.length > 0) {
		    let fileToLoad = filesSelected[0];

		    let fileReader = new FileReader();

		    fileReader.onload = function(fileLoadedEvent) {
		     fileDataURL = fileLoadedEvent.target.result;

		    };

		    fileReader.readAsDataURL(fileToLoad);
		   }
		  }
	</script>

<div th:replace="jsmodules"></div>
<div th:replace="component/navbar :: navbar"></div>
<div th:fragment="form" class="container">
<form th:action="@{/addProduct}" method="post" enctype="multipart/form-data">
商品名稱:<input type="text" name="title" />
商品種類:<input type="text" name="type" />
商品價格:<input type="number" name="price" min="0" />
商品庫存:<input type="number" name="stock" min="0" />
商品簡介:<input type="text" name="text"/>
商品上下架:<input type="radio" name="onsale" id="1" value="1"/><label for="1">上架</label>
<input type="radio" name="onsale" id="0" value="0"/><label for="0">下架</label>
<div class="form-group">
       <label>Please select a photo</label><br><input id="inputFileToLoad" type="file" name="file" onchange="loadImageFileAsURL()" 
        class="file-upload-default">
<img id="preview_img" src="#"
     style="height: 300px; width: 300px;border-radius:60px 60px 60px 60px ;margin-left:50px">
<button type="submit">新增</button>
</form>
</div>

<script>
$("#inputFileToLoad").change(function() {
	readURL(this);
})

function readURL(input) {
	if (input.files && input.files[0]) {
		var reader = new FileReader();
		reader.onload = function(e) {
			$("#preview_img").attr("src", e.target.result);

		}
		reader.readAsDataURL(input.files[0]);

	}
}
</script>
</body>
</html>